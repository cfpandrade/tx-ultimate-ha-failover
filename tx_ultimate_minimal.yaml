# TX Ultimate HA Failover - Minimal Configuration Template
# Copy this entire file and only change the values in "CHANGE ME" section

substitutions:
  ###### CHANGE ME START ######

  # Device Settings
  name: "living-tx"
  friendly_name: "Living Room TX"

  # Network Settings
  ha_ip: "192.168.1.100"              # Your Home Assistant IP
  device_ip: "192.168.1.101"          # Fixed IP for this device

  # Hardware
  relay_count: "2"                    # Number of relays: 1, 2, or 3

  # Location (for automatic nightlight)
  latitude: "40.7128°"                # Your latitude
  longitude: "-74.0060°"              # Your longitude

  ###### CHANGE ME END ######

  ###### OPTIONAL CUSTOMIZATION (Advanced users only) ######

  # Monitoring Intervals
  ha_port: "8123"                     # Home Assistant port
  wifi_check_interval: "600s"         # WiFi watchdog check (10 min)
  ha_check_interval: "300s"           # HA availability check (5 min)
  nightlight_check_interval: "5"      # Minutes to check nightlight

  # Timing
  vibra_time: "400ms"
  button_on_time: "500ms"

  # LED Colors - RGB format (0-100)
  button_brightness: "0"
  button_color: "{0,0,90}"            # Blue

  nightlight: "on"
  nightlight_brightness: "0.2"
  nightlight_color: "{80,70,0}"       # Warm white

  touch_brightness: "1"
  touch_color: "{0,100,100}"          # Cyan
  touch_effect: "Scan"

  long_press_brightness: "1"
  long_press_color: "{100,0,0}"       # Red
  long_press_effect: ""

  multi_touch_brightness: "1"
  multi_touch_color: "{0,0,0}"
  multi_touch_effect: "Rainbow"

  swipe_left_brightness: "1"
  swipe_left_color: "{0,100,0}"       # Green
  swipe_left_effect: ""

  swipe_right_brightness: "1"
  swipe_right_color: "{100,0,70}"     # Purple
  swipe_right_effect: ""

  # Status indicator colors (0.0-1.0)
  no_wifi_color_r: "1.0"
  no_wifi_color_g: "1.0"
  no_wifi_color_b: "0.0"

  ha_down_color_r: "1.0"
  ha_down_color_g: "0.0"
  ha_down_color_b: "0.0"

  ha_online_color_r: "0.0"
  ha_online_color_g: "0.75"
  ha_online_color_b: "1.0"

  # Fallback AP
  ap_ssid: "TX-Fallback"              # Fallback AP name when WiFi fails

  # Pin Assignments (TX Ultimate standard - DON'T CHANGE unless needed)
  relay_1_pin: "GPIO18"
  relay_2_pin: "GPIO17"
  relay_3_pin: "GPIO27"
  relay_4_pin: "GPIO23"

  vibra_motor_pin: "GPIO21"
  pa_power_pin: "GPIO26"

  led_pin: "GPIO13"
  status_led_pin: "GPIO33"

  uart_tx_pin: "GPIO19"
  uart_rx_pin: "GPIO22"

  audio_lrclk_pin: "GPIO4"
  audio_bclk_pin: "GPIO2"
  audio_sdata_pin: "GPIO15"

  touchpanel_power_pin: "GPIO5"

###### DO NOT CHANGE ANYTHING BELOW! ######

packages:
  remote_package:
    url: https://github.com/cfpandrade/tx-ultimate-ha-failover
    ref: main  # Use 'main' for latest or 'v1.3.0' for specific version
    files: [tx_ultimate_base.yaml]
    refresh: 300s

##### My customizations - Start #####

# API with encryption
api:
  encryption:
    key: !secret api_key

# OTA updates
ota:
  - platform: esphome
    password: !secret ota_pass

# WiFi with fixed IP (optional but recommended)
wifi:
  use_address: ${device_ip}

##### My customizations - End #####
